{% extends 'base.html' %}

{% block title %}Seva Booking - Raghavendra Swami Math{% endblock %}

{% block content %}
<div id="rsm-booking-container">
    <div id="rsm-booking-header-section">
        <div id="rsm-booking-header-row">
            <div id="rsm-booking-header-column">
                <h1 id="rsm-booking-header-heading">Seva Booking</h1>
                <div id="rsm-booking-header-divider">
                    <div id="rsm-booking-header-divider-line"></div>
                    <div id="rsm-booking-header-divider-icon">ॐ</div>
                    <div id="rsm-booking-header-divider-line"></div>
                </div>
                <p id="rsm-booking-header-text">Book your sevas at Raghavendra Swami Math, Chhatrapati Sambhaji Nagar.
                </p>
            </div>
        </div>
    </div>

<!-- Available Sevas Section -->
<!-- Available Sevas Section -->
<div id="rsm-booking-sevas-section">
    <div id="rsm-booking-sevas-row">
        <div id="rsm-booking-sevas-column">
            <div id="rsm-booking-sevas-card">
                <div id="rsm-booking-sevas-card-header">
                    <h3 id="rsm-booking-sevas-card-title">Available Sevas</h3>
                </div>
                <div id="rsm-booking-sevas-card-body">
                    <div id="rsm-booking-sevas-table-container">
                        <!-- Daily Activities -->
                        <div class="rsm-booking-seva-category">
                            <div class="rsm-booking-category-header" onclick="toggleCategory(this)">
                                <h2 class="rsm-booking-category-title">दैनंदिनी</h2>
                                <span class="rsm-booking-category-toggle">+</span>
                            </div>
                            <div class="rsm-booking-category-content">
                                <!-- Shraadh -->
                                <div class="rsm-booking-seva-item">
                                    <div class="rsm-booking-seva-header" onclick="toggleSeva(this)">
                                        <div id="rsm-booking-sevas-cell-name-shraadh" class="rsm-booking-seva-name">श्राद्ध</div>
                                        <span class="rsm-booking-seva-toggle">+</span>
                                    </div>
                                    <div class="rsm-booking-seva-details">
                                        <div id="rsm-booking-sevas-cell-description-shraadh"
                                            class="rsm-booking-seva-description">दरोज</div>
                                        <div id="rsm-booking-sevas-cell-contribution-shraadh"
                                            class="rsm-booking-seva-contribution">₹ १२००/- दोन व्यक्ती. अधिक व्यक्ती
                                            साठी ₹ २००/व्यक्ती.</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Weekly Activities -->
                        <div class="rsm-booking-seva-category">
                            <div class="rsm-booking-category-header" onclick="toggleCategory(this)">
                                <h2 class="rsm-booking-category-title">साप्ताहिक</h2>
                                <span class="rsm-booking-category-toggle">+</span>
                            </div>
                            <div class="rsm-booking-category-content">
                                <!-- Ashtottar -->
                                <div class="rsm-booking-seva-item">
                                    <div class="rsm-booking-seva-header" onclick="toggleSeva(this)">
                                        <div id="rsm-booking-sevas-cell-name-ashtottar" class="rsm-booking-seva-name">अष्टोत्तर</div>
                                        <span class="rsm-booking-seva-toggle">+</span>
                                    </div>
                                    <div class="rsm-booking-seva-details">
                                        <div id="rsm-booking-sevas-cell-description-ashtottar"
                                            class="rsm-booking-seva-description">दर गुरुवारी</div>
                                        <div id="rsm-booking-sevas-cell-contribution-ashtottar"
                                            class="rsm-booking-seva-contribution">स्वेच्छा</div>
                                    </div>
                                </div>

                                <!-- Palakhi -->
                                <div class="rsm-booking-seva-item">
                                    <div class="rsm-booking-seva-header" onclick="toggleSeva(this)">
                                        <div id="rsm-booking-sevas-cell-name-palakhi" class="rsm-booking-seva-name">पालखी</div>
                                        <span class="rsm-booking-seva-toggle">+</span>
                                    </div>
                                    <div class="rsm-booking-seva-details">
                                        <div id="rsm-booking-sevas-cell-description-palakhi"
                                            class="rsm-booking-seva-description">दर गुरुवारी</div>
                                        <div id="rsm-booking-sevas-cell-contribution-palakhi"
                                            class="rsm-booking-seva-contribution">स्वेच्छा</div>
                                    </div>
                                </div>

                                <!-- Annadan -->
                                <div class="rsm-booking-seva-item">
                                    <div class="rsm-booking-seva-header" onclick="toggleSeva(this)">
                                        <div id="rsm-booking-sevas-cell-name-annadan" class="rsm-booking-seva-name">अन्नदान</div>
                                        <span class="rsm-booking-seva-toggle">+</span>
                                    </div>
                                    <div class="rsm-booking-seva-details">
                                        <div id="rsm-booking-sevas-cell-description-annadan"
                                            class="rsm-booking-seva-description">दर गुरुवारी</div>
                                        <div id="rsm-booking-sevas-cell-contribution-annadan"
                                            class="rsm-booking-seva-contribution">स्वेच्छा</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Monthly Activities -->
                        <div class="rsm-booking-seva-category">
                            <div class="rsm-booking-category-header" onclick="toggleCategory(this)">
                                <h2 class="rsm-booking-category-title">मासिक</h2>
                                <span class="rsm-booking-category-toggle">+</span>
                            </div>
                            <div class="rsm-booking-category-content">
                                <!-- Satyanarayan Puja -->
                                <div class="rsm-booking-seva-item">
                                    <div class="rsm-booking-seva-header" onclick="toggleSeva(this)">
                                        <div id="rsm-booking-sevas-cell-name-satyanarayan" class="rsm-booking-seva-name">सत्यनारायण पूजा</div>
                                        <span class="rsm-booking-seva-toggle">+</span>
                                    </div>
                                    <div class="rsm-booking-seva-details">
                                        <div id="rsm-booking-sevas-cell-description-satyanarayan"
                                            class="rsm-booking-seva-description">प्रत्येक पोर्णिमा</div>
                                        <div id="rsm-booking-sevas-cell-contribution-satyanarayan"
                                            class="rsm-booking-seva-contribution">₹ ५०१/</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Yearly Activities -->
                        <div class="rsm-booking-seva-category">
                            <div class="rsm-booking-category-header" onclick="toggleCategory(this)">
                                <h2 class="rsm-booking-category-title">वार्षिक</h2>
                                <span class="rsm-booking-category-toggle">+</span>
                            </div>
                            <div class="rsm-booking-category-content">
                                <!-- Paksh -->
                                <div class="rsm-booking-seva-item">
                                    <div class="rsm-booking-seva-header" onclick="toggleSeva(this)">
                                        <div id="rsm-booking-sevas-cell-name-paksh" class="rsm-booking-seva-name">पक्ष</div>
                                        <span class="rsm-booking-seva-toggle">+</span>
                                    </div>
                                    <div class="rsm-booking-seva-details">
                                        <div id="rsm-booking-sevas-cell-description-paksh"
                                            class="rsm-booking-seva-description">पक्षपंधरवडा</div>
                                        <div id="rsm-booking-sevas-cell-contribution-paksh"
                                            class="rsm-booking-seva-contribution">₹ १२००/- दोन व्यक्ती. अधिक व्यक्ती
                                            साठी ₹ २००/व्यक्ती.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="rsm-booking-sevas-info">
                        <p id="rsm-booking-sevas-info-text">Dates are subject to availability. Please book at least
                            3 days in advance.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Booking Form Section -->
    <div id="rsm-booking-form-section">
        <div id="rsm-booking-form-row">
            <div id="rsm-booking-form-column">
                <div id="rsm-booking-form-card">
                    <div id="rsm-booking-form-card-header">
                        <h3 id="rsm-booking-form-card-title">Book Your Seva</h3>
                    </div>
                    <div id="rsm-booking-form-card-body">
                        <form action="{{ url_for('seva.book_seva') }}" method="POST" id="rsm-booking-form">
                            <div id="rsm-booking-form-row-1">
                                <div id="rsm-booking-form-column-1">
                                    <label for="rsm-booking-form-name" id="rsm-booking-form-label-name">Full
                                        Name*</label>
                                    <input type="text" id="rsm-booking-form-name" name="name" required>
                                </div>
                                <div id="rsm-booking-form-column-2">
                                    <label for="rsm-booking-form-email" id="rsm-booking-form-label-email">Email
                                        Address*</label>
                                    <input type="email" id="rsm-booking-form-email" name="email" required>
                                </div>
                            </div>

                            <div id="rsm-booking-form-row-2">
                                <div id="rsm-booking-form-column-1">
                                    <label for="rsm-booking-form-phone" id="rsm-booking-form-label-phone">Phone
                                        Number*</label>
                                    <input type="tel" id="rsm-booking-form-phone" name="phone" required>
                                </div>
                                <div id="rsm-booking-form-column-2">
                                    <label for="rsm-booking-form-gothra"
                                        id="rsm-booking-form-label-gothra">Gothra</label>
                                    <input type="text" id="rsm-booking-form-gothra" name="gothra">
                                </div>
                            </div>

                            <div id="rsm-booking-form-row-3">
                                <div id="rsm-booking-form-column-1">
                                    <label for="rsm-booking-form-sevaType" id="rsm-booking-form-label-sevaType">Select
                                        Seva*</label>
                                    <select id="rsm-booking-form-sevaType" name="sevaType" required
                                        onchange="toggleTimeSlot()">
                                        <option value="">Choose Seva...</option>
                                        <option value="Abhishekam">अष्टोत्तर (स्वेच्छा)</option>
                                        <option value="Archana">पालखी (स्वेच्छा)</option>
                                        <option value="Sahasranama Archana">अन्नदान (स्वेच्छा)</option>
                                        <option value="Shradha">श्राद्ध ₹ १२००/- दोन व्यक्ती अधिक व्यक्ती साठी ₹
                                            २००/व्यक्ती.</option>
                                        <option value="Pakshapandharwada">पक्षपंधरवाडा</option>
                                        <option value="Annadhanam">सत्यनारायण पूजा ₹ ५०१/-</option>
                                    </select>
                                </div>
                                <div id="rsm-booking-form-column-2">
                                    <label for="rsm-booking-form-sevaDate"
                                        id="rsm-booking-form-label-sevaDate">Preferred Date*</label>
                                    <input type="date" id="rsm-booking-form-sevaDate" name="sevaDate" required>
                                </div>
                            </div>

                            <div id="rsm-booking-form-row-time">
                                <label for="rsm-booking-form-sevaTime" id="rsm-booking-form-label-sevaTime">Preferred
                                    Time*</label>
                                <select id="rsm-booking-form-sevaTime" name="sevaTime" required>
                                    <option value="">Select Time...</option>
                                    <option value="07:00">07:00 AM</option>
                                    <option value="09:00">09:00 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                </select>
                                <!-- Hidden default time input that will be used when time slot is not visible -->
                                <input type="hidden" id="rsm-booking-form-sevaTime-default" name="sevaTimeDefault"
                                    value="00:00">
                            </div>

                            <!-- Availability Section -->
                            <div id="rsm-booking-availability-section" style="display: none;">
                                <div id="rsm-booking-availability-row">
                                    <div id="rsm-booking-availability-column">
                                        <div id="rsm-booking-availability-card">
                                            <div id="rsm-booking-availability-card-header">
                                                <h3 id="rsm-booking-availability-card-title">Available Slots</h3>
                                            </div>
                                            <div id="rsm-booking-availability-card-body">
                                                <div id="rsm-booking-availability-info">
                                                    <p id="rsm-booking-availability-text"><span
                                                            id="rsm-booking-availability-count">60/60</span> slots
                                                        available for <span id="rsm-booking-selected-seva"></span> on
                                                        <span id="rsm-booking-selected-date"></span> at <span
                                                            id="rsm-booking-selected-time"></span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="rsm-booking-form-row-4">
                                <label for="rsm-booking-form-nakshatra" id="rsm-booking-form-label-nakshatra">Star
                                    (Nakshatra)</label>
                                <select id="rsm-booking-form-nakshatra" name="nakshatra">
                                    <option value="">Select Nakshatra (Optional)</option>
                                    <option value="Ashwini">Ashwini</option>
                                    <option value="Bharani">Bharani</option>
                                    <option value="Krittika">Krittika</option>
                                    <option value="Rohini">Rohini</option>
                                    <option value="Mrigashira">Mrigashira</option>
                                    <option value="Ardra">Ardra</option>
                                    <option value="Punarvasu">Punarvasu</option>
                                    <option value="Pushya">Pushya</option>
                                    <option value="Ashlesha">Ashlesha</option>
                                    <option value="Magha">Magha</option>
                                    <option value="Purva Phalguni">Purva Phalguni</option>
                                    <option value="Uttara Phalguni">Uttara Phalguni</option>
                                    <option value="Hasta">Hasta</option>
                                    <option value="Chitra">Chitra</option>
                                    <option value="Swati">Swati</option>
                                    <option value="Vishakha">Vishakha</option>
                                    <option value="Anuradha">Anuradha</option>
                                    <option value="Jyeshtha">Jyeshtha</option>
                                    <option value="Mula">Mula</option>
                                    <option value="Purva Ashadha">Purva Ashadha</option>
                                    <option value="Uttara Ashadha">Uttara Ashadha</option>
                                    <option value="Shravana">Shravana</option>
                                    <option value="Dhanishta">Dhanishta</option>
                                    <option value="Shatabhisha">Shatabhisha</option>
                                    <option value="Purva Bhadrapada">Purva Bhadrapada</option>
                                    <option value="Uttara Bhadrapada">Uttara Bhadrapada</option>
                                    <option value="Revati">Revati</option>
                                </select>
                            </div>

                            <div id="rsm-booking-form-row-5">
                                <label for="rsm-booking-form-message" id="rsm-booking-form-label-message">Special
                                    Instructions (Optional)</label>
                                <textarea id="rsm-booking-form-message" name="message" rows="3"></textarea>
                            </div>

                            <div id="rsm-booking-form-row-6">
                                <label id="rsm-booking-form-label-family">Family Members (For whom the Seva is being
                                    performed)</label>
                                <div id="rsm-booking-form-family-container">
                                    <div id="rsm-booking-form-family-row-1">
                                        <div id="rsm-booking-form-family-column-1">
                                            <input type="text" id="rsm-booking-form-family-name-1" name="familyName[]"
                                                placeholder="Name">
                                        </div>
                                        <div id="rsm-booking-form-family-column-2">
                                            <input type="text" id="rsm-booking-form-family-relation-1"
                                                name="familyRelation[]" placeholder="Relation">
                                        </div>
                                        <div id="rsm-booking-form-family-column-3">
                                            <button type="button" id="rsm-booking-form-family-add"
                                                class="rsm-booking-form-family-add">Add</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="rsm-booking-form-row-7">
                                <input type="checkbox" id="rsm-booking-form-terms" required>
                                <label for="rsm-booking-form-terms" id="rsm-booking-form-label-terms">I agree to the
                                    terms and conditions</label>
                            </div>

                            <div id="rsm-booking-form-row-8">
                                <p id="rsm-booking-form-payment-method">Payment Method:</p>
                                <div id="rsm-booking-form-payment-online">
                                    <input type="radio" id="rsm-booking-form-pay-online" name="paymentMethod"
                                        value="online" checked>
                                    <label for="rsm-booking-form-pay-online">Pay Online</label>
                                </div>
                                <div id="rsm-booking-form-payment-math">
                                    <input type="radio" id="rsm-booking-form-pay-math" name="paymentMethod"
                                        value="math">
                                    <label for="rsm-booking-form-pay-math">Pay at Math</label>
                                </div>
                            </div>

                            <div id="rsm-booking-form-submit">
                                <button type="submit" id="rsm-booking-form-submit-button">Book Seva</button>
                            </div>
                        </form>
                    </div>
                    

                    <div id="rsm-booking-info-card">
                        <div id="rsm-booking-info-card-body">
                            <h4 id="rsm-booking-info-title">Important Information</h4>
                            <ul id="rsm-booking-info-list">
                                <li id="rsm-booking-info-item-1">Confirmation will be sent to your email after
                                    successful
                                    booking.</li>
                                <li id="rsm-booking-info-item-2">Please arrive 30 minutes before your scheduled seva
                                    time.
                                </li>
                                <li id="rsm-booking-info-item-3">For any changes or cancellations, please contact us at
                                    least 24 hours in advance.</li>
                                <li id="rsm-booking-info-item-4">For special arrangements or group sevas, please contact
                                    the
                                    temple office directly.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- JavaScript for Adding More Family Members and Checking Availability -->

<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
<script src="{{ url_for('static', filename='js/theme.js') }}"></script>
{% endblock %}